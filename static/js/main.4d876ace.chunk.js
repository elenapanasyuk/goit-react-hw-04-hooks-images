(this["webpackJsonpgoit-react-hw-03-template"]=this["webpackJsonpgoit-react-hw-03-template"]||[]).push([[0],{10:function(t,e,a){t.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},13:function(t,e,a){t.exports={item:"ImageGalleryItem_item__2ey0n",image:"ImageGalleryItem_image__2xsbt"}},14:function(t,e,a){t.exports={btnContainer:"Button_btnContainer__TI2wR",loadmorebtn:"Button_loadmorebtn__1JN2t"}},26:function(t,e,a){t.exports={loaderContainer:"Loader_loaderContainer__19ipN"}},29:function(t,e,a){t.exports={list:"ImageGallery_list__3mqUc"}},30:function(t,e,a){t.exports={App:"App_App__16ZpL"}},37:function(t,e,a){},7:function(t,e,a){t.exports={header:"Searchbar_header__34uEY",form:"Searchbar_form__XuKjc",searchbutton:"Searchbar_searchbutton__2-Qcg",label:"Searchbar_label__1BV3w",input:"Searchbar_input__2C4aO"}},79:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a(0),c=a.n(r),o=a(5),s=a.n(o),i=(a(36),a(37),a(15)),u=a(4),l=a(25),b=a.n(l),m=(a(59),a(26)),j=a.n(m),d=function(){return Object(n.jsx)("div",{className:j.a.loaderContainer,children:Object(n.jsx)(b.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})})},g=a(6),f=a(12),h=a.n(f),p=a(27),O=a(28),_=a.n(O),x=function(){var t=Object(p.a)(h.a.mark((function t(e,a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.get("".concat("https://pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(a,"&per_page=8&key=").concat("19039117-820a9ced6542bb27a724ef11a"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),v=(a(24),a(7)),y=a.n(v);var w=function(t){var e=t.onSubmit,a=Object(r.useState)(""),c=Object(u.a)(a,2),o=c[0],s=c[1];return Object(n.jsx)("header",{className:y.a.header,children:Object(n.jsxs)("form",{className:y.a.form,onSubmit:function(t){t.preventDefault(),""!==o.trim()?(e(o),s("")):g.b.error("Please add search query")},children:[Object(n.jsx)("button",{type:"submit",className:y.a.searchbutton,children:Object(n.jsx)("span",{className:y.a.label,children:"Search"})}),Object(n.jsx)("input",{className:y.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(t){s(t.currentTarget.value.toLowerCase())}})]})})},S=a(13),C=a.n(S),N=function(t){var e=t.image,a=t.toggleModal;return Object(n.jsx)("li",{className:C.a.item,children:Object(n.jsx)("img",{src:e.webformatURL,alt:e.tags,className:C.a.image,onClick:function(){a({status:!0,src:e.largeImageURL,alt:e.tags})}})})},I=a(29),k=a.n(I),L=function(t){var e=t.images,a=t.toggleModal;return Object(n.jsx)("ul",{className:k.a.list,children:e.map((function(t){return Object(n.jsx)(N,{image:t,toggleModal:a},t.id)}))})},M=a(10),E=a.n(M);var F=function(t){var e=t.alt,a=t.src,c=t.toggleModal;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(t){"Escape"===t.code&&c({status:!1})};return Object(n.jsx)("div",{className:E.a.overlay,onClick:function(t){t.target===t.currentTarget&&c({status:!1})},children:Object(n.jsx)("div",{className:E.a.modal,children:Object(n.jsx)("img",{className:E.a.img,src:a,alt:e})})})},T=a(14),B=a.n(T),G=function(t){var e=t.onClick;return Object(n.jsx)("div",{className:B.a.btnContainer,children:Object(n.jsx)("button",{type:"button",className:B.a.loadmorebtn,onClick:e,children:"Load More"})})},P=a(30),q=a.n(P);var A=function(){var t=Object(r.useState)(""),e=Object(u.a)(t,2),a=e[0],c=e[1],o=Object(r.useState)([]),s=Object(u.a)(o,2),l=s[0],b=s[1],m=Object(r.useState)(1),j=Object(u.a)(m,2),f=j[0],h=j[1],p=Object(r.useState)({status:!1,targetImage:null}),O=Object(u.a)(p,2),_=O[0],v=O[1],y=Object(r.useState)(!1),S=Object(u.a)(y,2),C=S[0],N=S[1],I=Object(r.useState)(!1),k=Object(u.a)(I,2),M=k[0],E=k[1];function T(t,e){if(!t)return b([]),void E(!1);N(!0),x(t,e).then((function(t){1===e?b(t.hits):(b((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.hits))})),P()),function(t,e){E(t>e);if(!t)g.b.error("No result:( try smth else")}(t.totalHits,l.length+t.hits.length),h((function(t){return t+1}))})).catch((function(t){return g.b.error("Smth went wrong:( please try again")})).finally((function(){return N(!1)}))}function B(t){var e=t.status,a=t.src,n=t.alt;v(e?{targetImage:{src:a,alt:n},status:!0}:{targetImage:null,status:!1})}Object(r.useEffect)((function(){h(1),T(a,1)}),[a]);var P=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.clientHeight,behavior:"smooth"})}),1200)};return Object(n.jsxs)("div",{className:q.a.app,children:[Object(n.jsx)(w,{onSubmit:function(t){c(t)}}),C&&Object(n.jsx)(d,{}),l.length>0&&Object(n.jsx)(L,{images:l,toggleModal:B}),_.status&&Object(n.jsx)(F,{src:_.targetImage.src,alt:_.targetImage.alt,toggleModal:B}),M&&Object(n.jsx)(G,{onClick:function(){return T(a,f)}}),Object(n.jsx)(g.a,{autoClose:3e3})]})},D=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;a(t),n(t),r(t),c(t),o(t)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),D()}},[[79,1,2]]]);
//# sourceMappingURL=main.4d876ace.chunk.js.map